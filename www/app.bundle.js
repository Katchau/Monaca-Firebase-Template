(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("f7-app",{attrs:{params:this.f7params}},[t("f7-view",{attrs:{id:"main-view",url:"/",main:""}}),this._v(" "),t("f7-view",{attrs:{id:"login-screen-view",url:"/login/","login-screen":""}}),this._v(" "),t("f7-view",{attrs:{id:"register-screen-view",url:"/register/","login-screen":""}})],1)},i=[];r._withStripped=!0},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("f7-page",[t("f7-block-header",{staticClass:"landing-header"},[t("h1",[this._v("Firebase TODO Application")]),this._v(" "),t("h3",[this._v("A Monaca template using Framework7 with VueJS")])]),this._v(" "),t("f7-block",{attrs:{strong:"",id:"landing-body"}},[t("f7-list",[t("f7-button",{attrs:{fill:"",raised:"","login-screen-open":"#register-screen"}},[this._v("Register Screen")])],1),this._v(" "),t("f7-list",[t("f7-button",{attrs:{fill:"",raised:"","login-screen-open":"#login-screen"}},[this._v("Login Screen")])],1)],1)],1)},i=[];r._withStripped=!0},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-login-screen",{ref:"log",attrs:{id:"login-screen"}},[n("f7-page",{attrs:{"login-screen":""}},[n("f7-login-screen-title",[e._v("Login")]),e._v(" "),e.errorMsg?n("h3",{staticClass:"red-text"},[e._v(e._s(e.errorMsg))]):e._e(),e._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-input",{attrs:{label:"Email",name:"email",placeholder:"Email",type:"email"}}),e._v(" "),n("f7-list-input",{attrs:{label:"Password",name:"password",type:"password",placeholder:"Password"}})],1),e._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Sign In"},on:{click:function(t){return e.login()}}})],1),e._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Homepage","login-screen-close":""}}),e._v(" "),n("f7-block-footer",[n("p",[e._v("Return back to the Landing page")])])],1)],1)],1)},i=[];r._withStripped=!0},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-login-screen",{ref:"reg",attrs:{id:"register-screen"}},[n("f7-page",{attrs:{"login-screen":""}},[n("f7-login-screen-title",[e._v("Register")]),e._v(" "),e.errorMsg?n("h3",{staticClass:"red-text"},[e._v(e._s(e.errorMsg))]):e._e(),e._v(" "),n("f7-list-button",{staticClass:"close-register hidden",attrs:{href:"/main/",title:"Continue","login-screen-close":""}}),e._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-input",{attrs:{label:"Username",name:"username",placeholder:"Your new Username",type:"text",required:""}}),e._v(" "),n("f7-list-input",{attrs:{label:"Email",name:"email",placeholder:"Your Email Address",type:"text",required:""}}),e._v(" "),n("f7-list-input",{attrs:{label:"Password",name:"password",type:"password",placeholder:"Password",required:""}}),e._v(" "),n("f7-list-input",{attrs:{label:"Password Confirmation",name:"passwordconf",type:"password",placeholder:"Please introduce your password again"}})],1),e._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Sign In"},on:{click:function(t){return e.register()}}})],1),e._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Homepage","login-screen-close":""}}),e._v(" "),n("f7-block-footer",[n("p",[e._v("Return back to the Landing page")])])],1)],1)],1)},i=[];r._withStripped=!0},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-page",{attrs:{id:"main-menu"}},[n("f7-navbar",[n("f7-nav-title",[e._v("\n            "+e._s(e.username)+"'s TODO lists\n        ")]),e._v(" "),n("f7-nav-right",[n("f7-link",{on:{click:function(t){return e.logOut()}}},[e._v("\n                Log Out\n            ")])],1)],1),e._v(" "),n("h2",[e._v("\n        List of current TODOs created!\n    ")]),e._v(" "),n("f7-button",{staticClass:"add-button",attrs:{"popup-open":"#creation-page",fill:"",round:"",small:""}},[e._v("\n        Add a new TODO list\n    ")]),e._v(" "),n("f7-view",{attrs:{id:"my-lists-view",url:"/lists/","my-lists":""}}),e._v(" "),n("f7-view",{attrs:{id:"creation-page-view",url:"/create/","creation-page":"",hidden:""}})],1)},i=[];r._withStripped=!0},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-popup",{ref:"cPopUp",attrs:{id:"creation-page"}},[n("f7-page",[n("f7-navbar",[n("f7-nav-title",[e._v("\n                New TODO\n            ")]),e._v(" "),n("f7-nav-right",[n("f7-link",{attrs:{"popup-close":""}},[e._v("\n                    Back\n                ")])],1)],1),e._v(" "),e.errorMsg?n("h3",{staticClass:"red-text"},[e._v(e._s(e.errorMsg))]):e._e(),e._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-input",{attrs:{label:"Name of your list",name:"list-name",type:"text",placeholder:"My todo list Name"}}),e._v(" "),n("f7-list-input",{attrs:{label:"Description",name:"description",type:"textarea",placeholder:"More information you wish to specify about the list",resizable:""}}),e._v(" "),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.getPreviewImage}}),e._v(" "),n("f7-list-button",{on:{click:function(t){return e.takePhoto()}}},[e._v("\n                Take a photo of your list\n            ")]),e._v(" "),n("img",{attrs:{src:e.previewImg,alt:"",height:"250px"}}),e._v(" "),n("f7-button",{staticClass:"add-button",attrs:{small:""},on:{click:function(t){return e.submitForm()}}},[e._v("\n                Submit\n            ")])],1)],1)],1)},i=[];r._withStripped=!0},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("f7-page",[n("f7-list",{staticClass:"todo-lists"},[n("f7-photo-browser",{ref:"popup",attrs:{photos:e.curImgURL,type:"popup"}}),e._v(" "),e._l(e.todoList,(function(t,r){return n("f7-list-item",{key:r,on:{click:function(t){return e.$refs.popup.open(r)}}},[n("div",{staticClass:"todo-info"},[n("b",[e._v("\n                    "+e._s(t.name)+"\n                ")]),e._v(" "),n("p",[e._v("\n                    "+e._s(t.date)+"\n                ")])]),e._v(" "),n("p",{staticClass:"todo-description"},[e._v("\n                "+e._s(t.description)+"\n            ")])])}))],2)],1)},i=[];r._withStripped=!0},125:function(e,t,n){e.exports=n(126)},126:function(e,t,n){"use strict";var r=s(n(3)),i=s(n(129)),a=s(n(162));n(130),n(131),n(132);var o=s(n(133));function s(e){return e&&e.__esModule?e:{default:e}}n(22);i.default.use(a.default),new r.default({el:"#app",template:"<app/>",components:{app:o.default}})},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var r=n(115),i=n(43);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/app.vue",t.default=s.exports},134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(135)),i=l(n(145)),a=l(n(146)),o=l(n(147)),s=l(n(148)),u=l(n(159));function l(e){return e&&e.__esModule?e:{default:e}}t.default=[{path:"/",component:r.default},{path:"/login/",component:i.default},{path:"/register/",component:a.default},{path:"/main/",component:o.default,options:{props:{displayName:"User"}}},{path:"/create/",component:s.default},{path:"/lists/",component:u.default}]},135:function(e,t,n){"use strict";n.r(t);var r=n(116),i=n(45);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/pages/Landing.vue",t.default=s.exports},145:function(e,t,n){"use strict";n.r(t);var r=n(117),i=n(47);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,"2b7371ae",null);s.options.__file="src/pages/user/LogIn.vue",t.default=s.exports},146:function(e,t,n){"use strict";n.r(t);var r=n(118),i=n(49);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,"0f31f533",null);s.options.__file="src/pages/user/Register.vue",t.default=s.exports},147:function(e,t,n){"use strict";n.r(t);var r=n(119),i=n(51);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,"770affdd",null);s.options.__file="src/pages/Main.vue",t.default=s.exports},148:function(e,t,n){"use strict";n.r(t);var r=n(120),i=n(53);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,"299c474c",null);s.options.__file="src/pages/lists/Create.vue",t.default=s.exports},159:function(e,t,n){"use strict";n.r(t);var r=n(121),i=n(55);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n(14),s=Object(o.a)(i.default,r.a,r.b,!1,null,"b2992d4a",null);s.options.__file="src/pages/lists/MyLists.vue",t.default=s.exports},161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={f7:null,handleSplashscreen:function(){var e=r.f7;window.navigator.splashscreen&&!e.device.electron&&setTimeout((function(){window.navigator.splashscreen.hide()}),2e3)},handleAndroidBackButton:function(){var e=r.f7,t=e.$;e.device.electron||document.addEventListener("backbutton",(function(n){if(t(".actions-modal.modal-in").length)return e.actions.close(".actions-modal.modal-in"),n.preventDefault(),!1;if(t(".dialog.modal-in").length)return e.dialog.close(".dialog.modal-in"),n.preventDefault(),!1;if(t(".sheet-modal.modal-in").length)return e.sheet.close(".sheet-modal.modal-in"),n.preventDefault(),!1;if(t(".popover.modal-in").length)return e.popover.close(".popover.modal-in"),n.preventDefault(),!1;if(t(".popup.modal-in").length){if(t(".popup.modal-in>.view").length){var r=e.views.get(".popup.modal-in>.view");if(r&&r.router&&r.router.history.length>1)return r.router.back(),n.preventDefault(),!1}return e.popup.close(".popup.modal-in"),n.preventDefault(),!1}if(t(".login-screen.modal-in").length)return e.loginScreen.close(".login-screen.modal-in"),n.preventDefault(),!1;if(t(".page-current .searchbar-enabled").length)return e.searchbar.disable(".page-current .searchbar-enabled"),n.preventDefault(),!1;if(t(".page-current .card-expandable.card-opened").length)return e.card.close(".page-current .card-expandable.card-opened"),n.preventDefault(),!1;var i=e.views.current;return i&&i.router&&i.router.history.length>1?t(".page-current #main-menu").length&&!t(".page-current .modal-in").length?(n.preventDefault(),!1):(i.router.back(),n.preventDefault(),!1):t(".panel.panel-in").length?(e.panel.close(".panel.panel-in"),n.preventDefault(),!1):void 0}),!1)},handleKeyboard:function(){var e=r.f7;if(window.Keyboard&&window.Keyboard.shrinkView&&!e.device.electron){var t=e.$;window.Keyboard.shrinkView(!1),window.Keyboard.disableScrollingInShrinkView(!0),window.Keyboard.hideFormAccessoryBar(!0),window.addEventListener("keyboardWillShow",(function(){e.input.scrollIntoView(document.activeElement,0,!0,!0)})),window.addEventListener("keyboardDidShow",(function(){e.input.scrollIntoView(document.activeElement,0,!0,!0)})),window.addEventListener("keyboardDidHide",(function(){document.activeElement&&t(document.activeElement).parents(".messagebar").length||window.Keyboard.hideFormAccessoryBar(!1)})),window.addEventListener("keyboardHeightWillChange",(function(e){var n=e.keyboardHeight;n>0?(document.body.style.height="calc(100% - "+n+"px)",t("html").addClass("device-with-keyboard")):(document.body.style.height="",t("html").removeClass("device-with-keyboard"))})),t(document).on("touchstart","input, textarea, select",(function(e){var t=e.target.nodeName.toLowerCase(),n=e.target.type;"select"===t||["datetime-local","time","date","datetime"].indexOf(n)>=0?window.Keyboard.hideFormAccessoryBar(!1):window.Keyboard.hideFormAccessoryBar(!0)}),!0)}},init:function(e){r.f7=e,r.handleAndroidBackButton(),r.handleSplashscreen(),r.handleKeyboard()}};t.default=r},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storage=t.db=t.auth=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(136));n(140),n(141),n(144);r.initializeApp({apiKey:"AIzaSyDi12gl0FBff9JihCAekYeaH-SwxyEQFec",authDomain:"fir-m-7abf4.firebaseapp.com",databaseURL:"https://fir-m-7abf4.firebaseio.com",projectId:"fir-m-7abf4",storageBucket:"fir-m-7abf4.appspot.com",messagingSenderId:"483137997326",appId:"1:483137997326:web:8af4ccbaf140dcf0bbca5f",measurementId:"G-GLFZMQ67D0"});var i=r.firestore(),a=r.storage(),o=r.auth();t.auth=o,t.db=i,t.storage=a},43:function(e,t,n){"use strict";n.r(t);var r=n(44),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(134)),i=n(160),a=o(n(161));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{f7params:{id:"io.framework7.testapp",name:"Framework7",theme:"auto",routes:r.default,statusbar:{enabled:!1}}}},mounted:function(){this.$f7ready((function(e){i.Device.cordova&&a.default.init(e)}))}}},45:function(e,t,n){"use strict";n.r(t);var r=n(46),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={mounted:function(){var e=this;r.auth.onAuthStateChanged((function(t){t&&t.displayName&&e.$f7router.navigate("/main/")}))}}},47:function(e,t,n){"use strict";n.r(t);var r=n(48),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={name:"LogIn",data:function(){return{errorMsg:""}},methods:{login:function(){this.errorMsg="";var e=this,t=this.$$('#login-screen [name="email"]').val(),n=this.$$('#login-screen [name="password"]').val();if(!t||!n)return this.errorMsg="Please fill in the missing input fields",!1;r.auth.signInWithEmailAndPassword(t,n).then((function(t){e.$refs.log.close()})).catch((function(t){e.errorMsg=t.message}))}}}},49:function(e,t,n){"use strict";n.r(t);var r=n(50),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={name:"Register",data:function(){return{errorMsg:""}},methods:{register:function(){this.errorMsg="";var e=this,t=this.$$('#register-screen [name="username"]').val(),n=this.$$('#register-screen [name="email"]').val(),i=this.$$('#register-screen [name="password"]').val();return i!==this.$$('#register-screen [name="passwordconf"]').val()?(this.errorMsg="Passwords do not match! Please try again",!1):t&&n&&i?void r.auth.createUserWithEmailAndPassword(n,i).then((function(n){return n.user.updateProfile({displayName:t}).then((function(){e.$f7.views.main.router.navigate("/main/",{props:{displayName:t}}),e.$refs.reg.close()}))})).catch((function(t){e.errorMsg=t.message})):(this.errorMsg="Please fill in the missing input fields",!1)}}}},51:function(e,t,n){"use strict";n.r(t);var r=n(52),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={name:"Main",props:["displayName"],data:function(){return{username:r.auth.currentUser.displayName||this.displayName}},methods:{logOut:function(){r.auth.signOut(),this.$f7router.back()}}}},53:function(e,t,n){"use strict";n.r(t);var r=n(54),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(149)),i=a(n(150));function a(e){return e&&e.__esModule?e:{default:e}}var o=n(22);t.default={name:"Create",data:function(){return{isMobile:!1,errorMsg:"",previewImg:"",imgFile:null}},mounted:function(){this.isMobile=r.default.device.android||r.default.device.ios},methods:{takePhoto:function(){var e=this;if(this.isMobile){navigator.camera.getPicture((function(t){e.previewImg="data:image/jpeg;base64,"+t}),(function(){alert("Failed to get picture, please try again.")}),{quality:50,destinationType:Camera.DestinationType.DATA_URL,targetWidth:420,targetHeight:420})}else this.$refs.file.click()},getPreviewImage:function(e){this.imgFile=e.target.files[0],this.previewImg=URL.createObjectURL(this.imgFile)},getFileExtension:function(e){return e.slice(e.lastIndexOf(".")+1,e.length)},getCurrentDate:function(){var e=new Date,t=e.getUTCMonth()+1;return e.getUTCDate()+"/"+t+"/"+e.getUTCFullYear()},updateDatabase:function(e){var t=this.$$('#creation-page .input-with-value[name="list-name"]').val()||(new Date).toDateString()+" list",n=this.$$('#creation-page .input-with-value[name="description"]').val()||"No description available",r=this.getCurrentDate(),i=this;o.db.collection("todos").add({name:t,description:n,date:r,imgURL:e,uid:o.auth.currentUser.uid}).then((function(e){console.log("Successfully added the picture at "+e.id),i.$refs.cPopUp.close()})).catch((function(e){console.log("Error at updating database "+e.message)}))},submitForm:function(){if(this.errorMsg="",!this.previewImg)return this.errorMsg="Missing Picture!",!1;var e=this,t=o.storage.ref(),n=Date.now()+"."+(this.isMobile?"jpeg":this.getFileExtension(this.imgFile.name)),r="images/"+o.auth.currentUser.uid+"/"+n,a=this.isMobile?t.child(r).putString(this.previewImg,"data_url"):t.child(r).put(this.imgFile);a.on(i.default.storage.TaskEvent.STATE_CHANGED,(function(e){}),(function(e){console.log("Error at uploading picture "+e.code)}),(function(){a.snapshot.ref.getDownloadURL().then(e.updateDatabase)}))}}}},55:function(e,t,n){"use strict";n.r(t);var r=n(56),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=i.a},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={name:"Lists",data:function(){return{curImgURL:[],todoList:[],fbListener:null}},computed:{getDbCollection:function(){return r.db.collection("todos").where("uid","==",r.auth.currentUser.uid)}},beforeMount:function(){var e=this;this.todoList=[],this.curImgURL=[];var t=this.getDbCollection;this.fbListener=t.onSnapshot((function(t){var n=0===e.todoList.length;t.docChanges().forEach((function(t){("added"===t.type||n)&&(e.todoList.push(t.doc.data()),e.curImgURL.push(t.doc.data().imgURL))}))}),(function(e){console.log("Error updating List "+e.message)}))}}}},[[125,1,2]]]);